<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Abacus</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script>
(function() {
  var t = localStorage.getItem("abacus-theme");
  if (!t) t = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches ? "light" : "dark";
  document.documentElement.setAttribute("data-theme", t);
})();
</script>
<link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">

  <!-- HEADER -->
  <header>
    <div class="header-row">
      <div class="lang-dropdown" id="langDropdown">
        <button class="lang-btn" id="langBtn" type="button">
          <img class="flag-icon" id="langFlag" src="https://flagcdn.com/w40/us.png" alt="EN">
          <span id="langLabel">English</span>
          <span class="lang-arrow">&#9662;</span>
        </button>
        <div class="lang-menu" id="langMenu"></div>
      </div>
      <h1 data-i18n="title">Abacus</h1>
      <button id="themeToggle" class="theme-toggle" type="button"></button>
    </div>
    <p data-i18n="tagline">From arithmetic to algebra &mdash; beautifully rendered</p>
  </header>

  <!-- CALCULATOR SELECTOR -->
  <section class="selector-section">
    <div class="selector-scroll" id="selectorScroll">
      <!-- Pills populated dynamically from /api/calculators -->
    </div>
  </section>

  <!-- INPUT -->
  <section class="input-section">
    <div class="input-row">
      <input type="text" id="exprInput" data-i18n-placeholder="placeholder" placeholder="Enter an expression..." autocomplete="off" spellcheck="false">
      <button class="btn-calc" id="calcBtn" type="button">
        <span class="btn-text" data-i18n="calculate">Calculate</span>
        <span class="spinner"></span>
      </button>
    </div>
    <div class="examples-row" id="examplesRow">
      <button class="example-chip">1+2+3</button>
      <button class="example-chip">123-456</button>
      <button class="example-chip">123+456-789</button>
    </div>
  </section>

  <!-- OUTPUT -->
  <section class="output-section" id="outputSection">
    <div id="outputContent"></div>
  </section>

</div>

<footer id="footerText">Powered by <span class="accent">Python</span></footer>

<!-- i18n: loaded separately so translations are easy to manage -->
<script src="/static/i18n.js"></script>
<script src="/static/app.js"></script>

</body>
</html>
